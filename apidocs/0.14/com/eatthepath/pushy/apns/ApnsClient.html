<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (14.0.1) on Wed Oct 21 12:35:09 EDT 2020 -->
<title>ApnsClient (Pushy 0.14.2 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2020-10-21">
<meta name="description" content="declaration: package: com.eatthepath.pushy.apns, class: ApnsClient">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":10,"i1":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flexBox">
<header role="banner" class="flexHeader">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ApnsClient.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="skipNav"><a id="skip.navbar.top">
<!--   -->
</a></div>
</nav>
</header>
<div class="flexContent">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.eatthepath.pushy.apns</a></div>
<h1 title="Class ApnsClient" class="title">Class ApnsClient</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a>
<div class="inheritance">com.eatthepath.pushy.apns.ApnsClient</div>
</div>
<section class="description">
<hr>
<pre>public class <span class="typeNameLabel">ApnsClient</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></pre>
<div class="block"><p>An APNs client sends push notifications to the APNs gateway. Clients authenticate themselves to APNs servers in
 one of two ways: they may either present a TLS certificate to the server at connection time, or they may present
 authentication tokens for each notification they send. Clients that opt to use TLS-based authentication may send
 notifications to any topic named in the client certificate. Clients that opt to use token-based authentication may
 send notifications to any topic associated with the team to which the client's signing key belongs. Please see the
 <a href="https://developer.apple.com/documentation/usernotifications">UserNotifications Framework documentation</a>
 for a detailed discussion of the APNs protocol, topics, and certificate/key provisioning.</p>

 <p>Clients are constructed using an <a href="ApnsClientBuilder.html" title="class in com.eatthepath.pushy.apns"><code>ApnsClientBuilder</code></a>. Callers may
 optionally specify an <a href="https://netty.io/4.1/api/io/netty/channel/EventLoopGroup.html?is-external=true" title="class or interface in io.netty.channel" class="externalLink"><code>EventLoopGroup</code></a> when constructing a new client. If no event loop group is specified,
 clients will create and manage their own single-thread event loop group. If many clients are operating in parallel,
 specifying a shared event loop group serves as a mechanism to keep the total number of threads in check. Callers may
 also want to provide a specific event loop group to take advantage of platform-specific features (i.e.
 <code>epoll</code> or <code>KQueue</code>).</p>

 <p>Callers must either provide an SSL context with the client's certificate or a signing key at client construction
 time. If a signing key is provided, the client will use token authentication when sending notifications; otherwise,
 it will use TLS-based authentication. It is an error to provide both a client certificate and a signing key.</p>

 <p>Clients maintain their own internal connection pools and open connections to the APNs server on demand. As a
 result, clients do <em>not</em> need to be "started" explicitly, and are ready to begin sending notifications as soon
 as they're constructed.</p>

 <p>Notifications sent by a client to an APNs server are sent asynchronously. A
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink"><code>CompletableFuture</code></a> is returned immediately when a notification is sent, but will not complete until the
 attempt to send the notification has failed, the notification has been accepted by the APNs server, or the
 notification has been rejected by the APNs server.</p>

 <p>APNs clients are intended to be long-lived, persistent resources. They are also inherently thread-safe and can be
 shared across many threads in a complex application. Callers must shut them down via the <a href="#close()"><code>close()</code></a>
 method when they are no longer needed (i.e. when shutting down the entire application). If an event loop group was
 specified at construction time, callers should shut down that event loop group when all clients using that group have
 been disconnected.</p></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.5</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd><a href="https://github.com/jchambers">Jon Chambers</a></dd>
</dl>
</section>
<section class="summary">
<ul class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#close()">close</a></span>()</code></th>
<td class="colLast">
<div class="block">Gracefully shuts down the client, closing all connections and releasing all persistent resources.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>&lt;T extends <a href="ApnsPushNotification.html" title="interface in com.eatthepath.pushy.apns">ApnsPushNotification</a>&gt;<br><a href="util/concurrent/PushNotificationFuture.html" title="class in com.eatthepath.pushy.apns.util.concurrent">PushNotificationFuture</a>&lt;T,&#8203;<a href="PushNotificationResponse.html" title="interface in com.eatthepath.pushy.apns">PushNotificationResponse</a>&lt;T&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sendNotification(T)">sendNotification</a></span>&#8203;(T&nbsp;notification)</code></th>
<td class="colLast">
<div class="block">Sends a push notification to the APNs gateway.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="sendNotification(com.eatthepath.pushy.apns.ApnsPushNotification)">
<!--   -->
</a><a id="sendNotification(T)">sendNotification</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="typeParameters">&lt;T extends <a href="ApnsPushNotification.html" title="interface in com.eatthepath.pushy.apns">ApnsPushNotification</a>&gt;</span>
<span class="returnType"><a href="util/concurrent/PushNotificationFuture.html" title="class in com.eatthepath.pushy.apns.util.concurrent">PushNotificationFuture</a>&lt;T,&#8203;<a href="PushNotificationResponse.html" title="interface in com.eatthepath.pushy.apns">PushNotificationResponse</a>&lt;T&gt;&gt;</span>&nbsp;<span class="memberName">sendNotification</span>&#8203;(<span class="arguments">T&nbsp;notification)</span></div>
<div class="block"><p>Sends a push notification to the APNs gateway.</p>

 <p>This method returns a <code>Future</code> that indicates whether the notification was accepted or rejected by the
 gateway. If the notification was accepted, it may be delivered to its destination device at some time in the
 future, but final delivery is not guaranteed. Rejections should be considered permanent failures, and callers
 should <em>not</em> attempt to re-send the notification.</p>

 <p>The returned <code>Future</code> may fail with an exception if the notification could not be sent. Failures to
 <em>send</em> a notification to the gateway—i.e. those that fail with exceptions—should generally be considered
 non-permanent, and callers should attempt to re-send the notification when the underlying problem has been
 resolved.</p></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of notification to be sent</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>notification</code> - the notification to send to the APNs gateway</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <code>Future</code> that will complete when the notification has been either accepted or rejected by the
 APNs gateway</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="close()">close</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;</span>&nbsp;<span class="memberName">close</span>()</div>
<div class="block"><p>Gracefully shuts down the client, closing all connections and releasing all persistent resources. The
 disconnection process will wait until notifications that have been sent to the APNs server have been either
 accepted or rejected. Note that some notifications passed to
 <a href="#sendNotification(T)"><code>sendNotification(ApnsPushNotification)</code></a> may still be enqueued and not yet sent by the time the
 shutdown process begins; the <code>Futures</code> associated with those notifications will fail.</p>

 <p>The returned <code>Future</code> will be marked as complete when all connections in this client's pool have closed
 completely and (if no <code>EventLoopGroup</code> was provided at construction time) the client's event loop group has
 shut down. If the client has already shut down, the returned <code>Future</code> will be marked as complete
 immediately.</p>

 <p>Clients may not be reused once they have been closed.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <code>Future</code> that will be marked as complete when the client has finished shutting down</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.11</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ApnsClient.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2013&#x2013;2020 <a href="https://github.com/jchambers">Jon Chambers</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
